<?xml version="1.0" encoding="UTF-8"?>
<!--
Copyright (C) 2016 Jorge

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->
<!DOCTYPE html>
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:p="http://primefaces.org/ui"
      xmlns:jlgranda="http://jlgranda.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html">
    <h:head>
        <title>#{i18n['Load']} #{i18n['Documents']}</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <style type="text/css">
            .ui-widget {
                font-size: 90%;
            }
        </style>
    </h:head>
    <h:body>
        <p:dialog id="dlgDocumento"  widgetVar="dlgDocumento"  header="#{i18n['common.edit']}" 
                  width="600" height="500" modal="true" rendered="#{tareaHome.documento != null}" draggable="true" position="center" closable="false" >
            <div class="Container100">
                <div class="ContainerIndent">
                    <div class="Card ShadowEffect ui-fluid">
                        <p:media id="documentoMedia" rendered="#{tareaHome.documento.id!=null and tareaHome.tipoDocumento eq i18n['pdf']}"
                                 value="/fedeServlet?entity=documento&amp;id=#{tareaHome.documento.id}"
                                 player="pdf" width="100%" height="250"/>

                        <jlgranda:input id="numReg" name="numReg" type="text" label="#{i18n['app.documents.document.numeroRegistro']}" 
                                        value="#{tareaHome.documento.numeroRegistro}" render="numReg" 
                                        execute="@this save" required="false" />
                        <p:commandButton value="#{i18n['common.save']}"
                                         update="tabViewTarea:uploadedFiles"
                                         actionListener="#{tareaHome.saveDocumento()}" oncomplete="PF('dlgDocumento').hide()"/>                      
                        <p:commandButton value="#{i18n['Close']}" onclick="PF('dlgDocumento').hide()" disabled="false" />
                    </div>
                </div>
            </div>
        </p:dialog>
    </h:body>
</html>
